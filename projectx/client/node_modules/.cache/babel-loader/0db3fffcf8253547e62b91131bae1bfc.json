{"ast":null,"code":"var _jsxFileName = \"/home/assassin/Aashutosh_Git/projectx/client/src/components/ResLog/SignUp.js\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useFormik } from \"formik\";\nimport Axios from \"axios\";\nimport { AuthContext } from \"../../context/auth\";\n\nconst SignUp = props => {\n  const {\n    state,\n    dispatch\n  } = useContext(AuthContext);\n  const [err, setError] = useState([]);\n\n  const onSubmit = async values => {\n    try {\n      const res = await Axios.post(\"/getSignup\", JSON.stringify({ ...values,\n        usn: values.usn.toLowerCase()\n      }), {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      dispatch({\n        type: \"SignUp\",\n        payload: {\n          user: res.data.user\n        }\n      });\n    } catch (error) {\n      dispatch({\n        type: \"LOGIN_FAIL\"\n      });\n      setError(error.response.data.errors);\n    }\n  };\n\n  const formik = useFormik({\n    initialValues: {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      usn: \"\",\n      batch: \"\",\n      year: \"\",\n      section: \"\",\n      confirm: \"\"\n    },\n    onSubmit,\n    validate: values => {\n      let errors = {};\n\n      if (!values.usn) {\n        errors.usn = \"* USN Required\";\n      }\n\n      if (!values.password) {\n        errors.password = \"* Password Required\";\n      }\n\n      if (!values.name) {\n        errors.name = \"*Name Required\";\n      }\n\n      if (!values.year) {\n        errors.year = \"*Year Required\";\n      }\n\n      if (!values.email) {\n        errors.email = \"*Email Required\";\n      } // else if(/^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(values.email)){\n      //   errors.email='Invalid email format'\n      // }\n\n\n      if (!values.batch) {\n        errors.batch = \"Batch Required\";\n      }\n\n      if (!values.section) {\n        errors.section = \"*Section Required\";\n      }\n\n      if (!values.confirm || values.confirm !== values.password) {\n        errors.confirm = \"Not Mathching Password\";\n      }\n\n      return errors;\n    }\n  });\n  useEffect(() => {\n    formik.resetForm();\n  }, [props, state]);\n  let err_jsx;\n\n  if (err.length > 0) {\n    err.forEach(er => setTimeout(() => setError(err.splice(1)), 3000));\n    err_jsx = err.map(er => {\n      return /*#__PURE__*/React.createElement(\"h4\", {\n        style: {\n          color: \"red\"\n        },\n        key: \"sd\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 12\n        }\n      }, er.message);\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: formik.handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, \"Create Account\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, \"or use your email for registration\"), /*#__PURE__*/React.createElement(\"input\", {\n    onBlur: formik.handleBlur,\n    type: \"text\",\n    placeholder: !(formik.touched.name && formik.errors.name) ? \"Name\" : formik.errors.name,\n    name: \"name\",\n    onChange: formik.handleChange,\n    value: formik.values.name,\n    className: formik.touched.name && formik.errors.name ? \"error\" : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    onBlur: formik.handleBlur,\n    type: \"email\",\n    placeholder: !(formik.touched.email && formik.errors.email) ? \"Email\" : formik.errors.email,\n    name: \"email\",\n    onChange: formik.handleChange,\n    value: formik.values.email,\n    className: formik.touched.email && formik.errors.email ? \"error\" : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    onBlur: formik.handleBlur,\n    type: \"text\",\n    placeholder: !(formik.touched.usn && formik.errors.usn) ? \"USN\" : formik.errors.usn,\n    name: \"usn\",\n    onChange: formik.handleChange,\n    value: formik.values.usn,\n    className: formik.touched.usn && formik.errors.usn ? \"error\" : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    onBlur: formik.handleBlur,\n    type: \"text\",\n    placeholder: !(formik.touched.batch && formik.errors.batch) ? \"batch\" : formik.errors.batch,\n    name: \"batch\",\n    onChange: formik.handleChange,\n    value: formik.values.batch,\n    className: formik.touched.batch && formik.errors.batch ? \"error\" : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    onBlur: formik.handleBlur,\n    type: \"text\",\n    placeholder: !(formik.touched.year && formik.errors.year) ? \"Year\" : formik.errors.year,\n    name: \"year\",\n    onChange: formik.handleChange,\n    value: formik.values.year,\n    className: formik.touched.year && formik.errors.year ? \"error\" : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    onBlur: formik.handleBlur,\n    type: \"text\",\n    placeholder: !(formik.touched.section && formik.errors.section) ? \"Section\" : formik.errors.section,\n    name: \"section\",\n    onChange: formik.handleChange,\n    value: formik.values.section,\n    className: formik.touched.section && formik.errors.section ? \"error\" : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    onBlur: formik.handleBlur,\n    type: \"password\",\n    placeholder: !(formik.touched.password && formik.errors.password) ? \"Password\" : formik.errors.password,\n    name: \"password\",\n    onChange: formik.handleChange,\n    value: formik.values.password,\n    className: formik.touched.password && formik.errors.password ? \"error\" : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    onBlur: formik.handleBlur,\n    type: \"password\",\n    placeholder: !(formik.touched.confirm && formik.errors.confirm) ? \"ConfirmPasssword\" : formik.errors.confirm,\n    name: \"confirm\",\n    onChange: formik.handleChange,\n    value: formik.values.confirm,\n    className: formik.touched.confirm && formik.errors.confirm ? \"error\" : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }\n  }, \"Sign Up\"), /*#__PURE__*/React.createElement(\"button\", {\n    id: \"new1\",\n    onClick: () => {\n      props.onMobAniSignIn();\n    },\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }\n  }, \"signIn\"));\n};\n\nexport default SignUp;","map":{"version":3,"sources":["/home/assassin/Aashutosh_Git/projectx/client/src/components/ResLog/SignUp.js"],"names":["React","useContext","useEffect","useState","useFormik","Axios","AuthContext","SignUp","props","state","dispatch","err","setError","onSubmit","values","res","post","JSON","stringify","usn","toLowerCase","headers","type","payload","user","data","error","response","errors","formik","initialValues","name","email","password","batch","year","section","confirm","validate","resetForm","err_jsx","length","forEach","er","setTimeout","splice","map","color","message","handleSubmit","handleBlur","touched","handleChange","onMobAniSignIn"],"mappings":"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","sourcesContent":["import React,{useContext, useEffect,useState} from \"react\";\nimport { useFormik } from \"formik\";\nimport Axios from \"axios\";\nimport { AuthContext } from \"../../context/auth\";\n\nconst SignUp = (props) => {\n  const {state,dispatch}=useContext(AuthContext);\n  const [err,setError]=useState([]);\n\n const onSubmit=async(values)=>{\n   try{\n      const res=await Axios.post(\"/getSignup\",JSON.stringify({...values,usn:values.usn.toLowerCase()}),{\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n      dispatch({\n        type:\"SignUp\",\n        payload:{\n          user:res.data.user\n        }\n      })\n    }\n    catch(error){\n      dispatch({\n        type:\"LOGIN_FAIL\",\n      })\n      setError(error.response.data.errors);\n    }\n  }\n  \n  const formik = useFormik({\n    initialValues: {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      usn: \"\",\n      batch: \"\",\n      year: \"\",\n      section: \"\",\n      confirm: \"\",\n    },\n    onSubmit,\n   \n    validate:values=>{\n      let errors={}\n      if(!values.usn  ){\n        errors.usn=\"* USN Required\"\n      }\n      if(!values.password){\n        errors.password=\"* Password Required\"\n      }\n      if(!values.name){\n        errors.name=\"*Name Required\"\n      }\n      if(!values.year){\n        errors.year=\"*Year Required\"\n      }\n      if(!values.email){\n        errors.email=\"*Email Required\"\n      }\n      // else if(/^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(values.email)){\n      //   errors.email='Invalid email format'\n      // }\n      if(!values.batch){\n        errors.batch=\"Batch Required\"\n      }\n      if(!values.section){\n        errors.section=\"*Section Required\"\n      }\n      if(!values.confirm||values.confirm!==values.password){\n        errors.confirm=\"Not Mathching Password\"\n      }\n\n      return errors;\n    }\n    }\n  );\n  useEffect(() => {\n    \n    formik.resetForm();\n    \n    \n  }, [props,state])\n  let err_jsx;\nif(err.length>0){\n  err.forEach(er=> setTimeout(()=>setError(err.splice(1)),3000));\n  \n  err_jsx=err.map(er=>{\n    return <h4 style={{color:\"red\"}} key=\"sd\">{er.message}</h4>})\n}\n  return (\n    <form onSubmit={formik.handleSubmit}>\n      <h1>Create Account</h1>\n\n\n      <span>or use your email for registration</span>\n      \n     \n      <input\n        onBlur={formik.handleBlur}\n        type=\"text\"\n        placeholder={!(formik.touched.name&&formik.errors.name)?\"Name\":formik.errors.name}\n        name=\"name\"\n        onChange={formik.handleChange}\n        value={formik.values.name}\n        className={(formik.touched.name&&formik.errors.name)?\"error\":null}\n      />\n\n      <input\n        onBlur={formik.handleBlur}\n        type=\"email\"\n        placeholder={!(formik.touched.email&&formik.errors.email)?\"Email\":formik.errors.email}\n        name=\"email\"\n        onChange={formik.handleChange}\n        value={formik.values.email}\n        className={(formik.touched.email&&formik.errors.email)?\"error\":null}\n      />\n\n      <input\n        onBlur={formik.handleBlur}\n        type=\"text\"\n        placeholder={!(formik.touched.usn&&formik.errors.usn)?\"USN\":formik.errors.usn}        name=\"usn\"\n        onChange={formik.handleChange}\n        value={formik.values.usn}\n        className={(formik.touched.usn&&formik.errors.usn)?\"error\":null}\n      />\n\n\n      <input\n        onBlur={formik.handleBlur}\n        type=\"text\"\n        placeholder={!(formik.touched.batch&&formik.errors.batch)?\"batch\":formik.errors.batch}        name=\"batch\"\n        onChange={formik.handleChange}\n        value={formik.values.batch}\n        className={(formik.touched.batch&&formik.errors.batch)?\"error\":null}\n      />\n\n      <input\n        onBlur={formik.handleBlur}\n        type=\"text\"\n        placeholder={!(formik.touched.year&&formik.errors.year)?\"Year\":formik.errors.year}        name=\"year\"\n        onChange={formik.handleChange}\n        value={formik.values.year}\n        className={(formik.touched.year&&formik.errors.year)?\"error\":null}\n      />\n\n      <input\n        onBlur={formik.handleBlur}\n        type=\"text\"\n        placeholder={!(formik.touched.section&&formik.errors.section)?\"Section\":formik.errors.section}        name=\"section\"\n        onChange={formik.handleChange}\n        value={formik.values.section}\n        className={(formik.touched.section&&formik.errors.section)?\"error\":null}\n      />\n\n      <input\n        onBlur={formik.handleBlur}\n        type=\"password\"\n        placeholder={!(formik.touched.password&&formik.errors.password)?\"Password\":formik.errors.password}        name=\"password\"\n        onChange={formik.handleChange}\n        value={formik.values.password}\n        className={(formik.touched.password&&formik.errors.password)?\"error\":null}\n      />\n\n      <input\n        onBlur={formik.handleBlur}\n        type=\"password\"\n        placeholder={!(formik.touched.confirm&&formik.errors.confirm)?\"ConfirmPasssword\":formik.errors.confirm}        name=\"confirm\"\n        onChange={formik.handleChange}\n        value={formik.values.confirm}\n        className={(formik.touched.confirm&&formik.errors.confirm)?\"error\":null}\n      />\n\n\n      <button type=\"submit\">Sign Up</button>\n      <button id=\"new1\" onClick={()=>{props.onMobAniSignIn()}} type=\"button\">\n        signIn\n      </button>\n    </form>\n  );\n};\nexport default SignUp;\n"]},"metadata":{},"sourceType":"module"}